{% macro render_blog_post(post, from_index=false) %}
  <div class="blog-post">
  {% if from_index %}
    <h2><a href="{{ post|url }}">{{ post.title }}</a></h2>
  {% else %}
    <h2>{{ post.title }}</h2>
  {% endif %}
  <p class="meta">
    {% if post.author %}
      written by {{ post.author }},
    {% endif %}
    published on {{ post.pub_date }}
  </p>
  {% if from_index %}
    {{ post.body|excerpt }}
    <a href="{{ post|url }}">Read more...</a>
  {% else %}
    {{ post.body }}
  {% endif %}
  </div>
{% endmacro %}
